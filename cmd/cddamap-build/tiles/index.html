<!DOCTYPE html>
<html>

<head>
	<title>CDDA Map</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
	 crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
	 crossorigin=""></script>
	<style>
		body {
			padding: 0;
			margin: 0;
		}

		html,
		body,
		#map {
			height: 100%;
			width: 100%;
		}
	</style>
</head>

<body>
	<div id="map"></div>
	<script>
		var map = L.map('map', {
			crs: L.CRS.Simple,
			//maxZoom: 8
		}).setView([-128, 128], 1);

		var tiles = L.tileLayer('/{z}/{x}/{y}.png', {
			maxZoom: 10,
			maxNativeZoom: 8,
			attribution: '',
			noWrap: true,
			crs: L.CRS.Simple
		}).addTo(map);

		var southWest = map.unproject([0, 43200], 8);
		var northEast = map.unproject([38446, 0], 8);
		//map.setMaxBounds(new L.LatLngBounds(southWest, northEast));

		map.on('click', function (e) {
			console.log(e.latlng.lat, e.latlng.lng)
			p = map.project(e.latlng, 8)
			console.log(p.x, p.y)
		});

		var xwidth = 21.3594
		for (var x = 0; x < 10; x++) {
			for (var y = 0; y < 10; y++) {
				var m2 = {
					x: (180 * 7 + -10 + x) * xwidth,
					y: (180 * 9 + -10 + y) * 24

				}
				L.polygon([
					map.unproject([m2.x, m2.y], 8),
					map.unproject([m2.x + xwidth, m2.y], 8),
					map.unproject([m2.x + xwidth, m2.y + 24], 8),
					map.unproject([m2.x, m2.y + 24], 8)
				], { color: 'red' }).addTo(map);
			}
		}






	</script>
</body>

</html>